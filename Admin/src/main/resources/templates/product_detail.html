<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org/">

<head th:replace="fragments :: header">
</head>

<body class="fixed-navbar">
	<div class="page-wrapper">
		<!-- START HEADER-->
		<header th:replace="fragments :: top-bar"> </header>
		<!-- END HEADER-->
		<!-- START SIDEBAR-->
		<nav th:replace="fragments :: side-bar"></nav>
		<!-- END SIDEBAR-->
		<div class="content-wrapper">
			<!-- START PAGE CONTENT-->
			<div class="page-content fade-in-up">
				<div class="ibox">
					<div class="ibox-head">
						<div class="ibox-title">Chi tiết sản phẩm</div>
					</div>
					<div class="ibox-body">
						<form th:action="@{/product/do-update}" method="post" enctype="multipart/form-data" th:object = "${productDto}">
							<div class="row">
								<input type="hidden" th:field="*{id}">
								<div class="col-8">
									<div class="form-group">
										<label>Tên sách:</label> 
										<input class="form-control" th:field="*{name}" type="text" placeholder="">
									</div>
									<div class="form-group">
										<label>Danh mục:</label> 
										<select th:field = "*{category}" class="form-control select2_demo_2">
											<option th:value = "null"></option>
											<option th:each = "category : ${categories}" th:value = "${category.id}" th:text = "${category.name}"></option>
										</select>
									</div>
									<div class="form-group">
										<label>Tác giả:</label> 
										<input class="form-control" th:field="*{author}" type="text" placeholder="">
									</div>
									<div class="form-group">
										<label>NXB:</label> 
										<input class="form-control" type="text" th:field="*{publisher}" placeholder="">
									</div>
									<div class="row">
										<div class="col-3 form-group">
											<label>Năm xuất bản:</label> 
											<input class="form-control" th:field="*{publishAt}" type="number" placeholder="">
										</div>
										<div class="col-3 form-group">
											<label>Giá sách:</label> 
											<input class="form-control" th:field="*{price}" type="number" placeholder="">
										</div>
										<div class="col-3 form-group">
											<label>Giảm giá:</label> 
											<input class="form-control" th:field="*{discount}" type="number" placeholder="">
										</div>
										<div class="col-3 form-group">
											<label>Số lượng:</label> 
											<input class="form-control" th:field="*{quantity}" type="number" placeholder="">
										</div>
									</div>
									<div class="form-group">
										<label>Mô tả:</label>
										<textarea th:field="*{description}" class="form-control" id="summernote" data-plugin="summernote" data-air-mode="true"></textarea>
									</div>
								</div>
								<div class="col-4">
									<div class="form-group flex">
										<label for="imageFile">Ảnh đại diện:</label><br> 
										<img style="margin-bottom: 20px; width: auto; height: 240px;"
											th:src = "*{'data:image/jpeg;base64,' + {image}}"> 
											<input type="file" id="imageProduct" name="imageProduct" class="form-control-file">
									</div>
								</div>
							</div>

							<div class="form-group">
								<button class="btn btn-success" type="submit">Lưu</button>
							</div>
						</form>
					</div>
				</div>
			</div>
			<!-- END PAGE CONTENT-->
			<footer th:replace="fragments :: footer"> </footer>
		</div>
	</div>
	<!-- CORE PLUGINS-->
	<div th:replace="fragments :: script"></div>
	<script type="text/javascript">
        $(function() {
            $('#summernote').summernote();
            $('#summernote_air').summernote({
                airMode: true
            });
        });
    </script>
</body>

</html>