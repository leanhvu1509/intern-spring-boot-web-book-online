<!DOCTYPE html>
<html lang="en" xmlns:th = "https://www.thymeleaf.org/">

<head th:replace = "fragments :: header">
</head>

<body class="fixed-navbar">
    <div class="page-wrapper">
        <!-- START HEADER-->
        <header th:replace = "fragments :: top-bar">
        </header>
        <!-- END HEADER-->
        <!-- START SIDEBAR-->
        <nav th:replace = "fragments :: side-bar">
        </nav>
        <!-- END SIDEBAR-->
        <div class="content-wrapper">
            <!-- START PAGE CONTENT-->
            <div class="page-content fade-in-up">
                <div class="ibox">
	                <div th:if = "${success}" class="alert alert-success text-center" role="alert">
	  					<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	                    <p th:text="${success}"></p>
					</div>
					 <div th:if = "${error}" class="alert alert-danger text-center" role="alert">
	  					<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	                    <p th:text="${error}"></p>
					</div>
					<script>
						window.setTimeout(function() {
						    $(".alert").fadeTo(1000, 0).slideUp(500, function(){
						        $(this).remove(); 
						    });
						}, 2000);
					</script>
                    <div class="ibox-head flex-1">
                        <div class="ibox-title" th:text="${title}"></div>
                    </div>
                    <div class="ibox-body">
                        <table class="table table-striped table-bordered table-hover" id="example-table" cellspacing="0" width="100%">
                            <thead>
                                <tr>
                                	<th>STT</th>
                                    <th>Ảnh</th>
                                    <th>ID</th>
                                    <th>Tên sách</th>
                                    <th>Giá</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr th:each = "p,i : ${list}">
                                	<td>[[${i.index+1}]]</td>
                                	<td><img src="" style="height: 40px; width: 40px;" th:src = "*{'data:image/jpeg;base64,' + {p.image}}"></td>
                                    <td th:text="${p.id}"></td>
                                    <td th:text="${p.name}"></td>
                                    <td th:text="${#numbers.formatDecimal(p.price,3,'POINT',0,'COMMA')}"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <!-- END PAGE CONTENT-->
            <footer th:replace = "fragments :: footer">
            </footer>
        </div>
    </div>
    <!-- CORE PLUGINS-->
    <div th:replace = "fragments :: script">
	</div>
</body>

</html>